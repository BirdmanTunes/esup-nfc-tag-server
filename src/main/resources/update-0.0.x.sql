ALTER TABLE tag_log ADD COLUMN textsearchable_index_col tsvector;
UPDATE tag_log SET textsearchable_index_col = setweight(to_tsvector('simple', coalesce(tag_log.csn,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.numero_id,'')), 'B')||setweight(to_tsvector('simple', coalesce(tag_log.eppn,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.eppn_init,'')), 'B')||setweight(to_tsvector('simple', coalesce(tag_log.application_name,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.location,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.application_name,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.status,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.firstname,'')), 'A')||setweight(to_tsvector('simple', coalesce(tag_log.lastname,'')), 'A');
ALTER TABLE device ADD COLUMN textsearchable_index_col tsvector;
UPDATE device SET textsearchable_index_col = setweight(to_tsvector('simple', coalesce(device.eppn_init,'')), 'A')||setweight(to_tsvector('simple', coalesce(device.numero_id,'')), 'A')||setweight(to_tsvector('simple', coalesce(device.imei,'')), 'A')||setweight(to_tsvector('simple', coalesce(device.mac_address,'')), 'A')||setweight(to_tsvector('simple', coalesce(device.location,'')), 'A')||setweight(to_tsvector('simple', coalesce(application.name,'')), 'A') FROM application where device.application=application.id;